{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/js/modules/forms.js","webpack:///./src/js/modules/modal.js","webpack:///./src/js/services/service.js"],"names":["window","addEventListener","modal","forms","formSelector","document","querySelectorAll","message","sending","success","failure","forEach","item","postFormData","checkFormInfo","form","e","preventDefault","formData","FormData","formObject","Object","fromEntries","entries","json","JSON","stringify","user_phone","match","statusMessage","createElement","innerHTML","insertAdjacentElement","postData","then","remove","showSubmitMessage","console","log","catch","error","finally","reset","querySelector","value","placeholder","messageModal","classList","add","setTimeout","input","style","borderColor","openModal","modalSelector","body","overflow","closeModal","triggerSelector","modalTrigger","elem","code","contains","target","parentElement","url","data","result","fetch","method","headers","ok","Error","status","getData"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import modal from './modules/modal';\nimport forms from './modules/forms';\n// import {getData, postData} from './services/service';\n\nwindow.addEventListener('DOMContentLoaded', function() {\n    modal('.popup_engineer_btn', '.popup_engineer');\n    modal('.phone_link', '.popup');\n    forms('form');\n\n});","import modal from \"./modal\";\nimport {postData} from '../services/service'\n\nfunction forms(formSelector) {\n    const forms = document.querySelectorAll(formSelector),\n          message = {\n              sending: \"Отправляем Вашу информацию\",\n              success: \"С Вами свяжется наш специалист\",\n              failure: \"Произошла ошибка. Попробуйте еще раз\"\n          }\n\n    forms.forEach(item => {\n        postFormData(item);\n        checkFormInfo(item);\n    });\n\n    function postFormData(form) {\n\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            const formData = new FormData(form);\n            const formObject = Object.fromEntries(formData.entries())\n            const json = JSON.stringify(formObject);\n\n            if(formObject.user_phone.match(/^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){10,14}(\\s*)?$/)) {\n                let statusMessage = document.createElement('div');\n                statusMessage.innerHTML = `\n                    <div>\n                        <img src=\"../../assets/slick/ajax-loader.gif\" alt=${message.sending}/>\n                        <span>${message.sending}</span>\n                    </div>\n                `\n                form.insertAdjacentElement('afterend', statusMessage);\n\n                postData('http://localhost:3000/items', json)\n                .then(() => {\n                    statusMessage.remove();\n                    showSubmitMessage(form, message.success);\n                    console.log('Sent!')\n                })\n                .catch(error => {\n                    showSubmitMessage(form, message.failure);\n                    console.log(error)\n                })\n                .finally(() => {\n                    form.reset();\n                })\n            } else {\n                form.querySelector('[name=\"user_phone\"]').value = '';\n                form.querySelector('[name=\"user_phone\"]').placeholder = 'Введите номер телефона в виде цифр';\n            }\n        })\n    }\n\n    function showSubmitMessage(form, message) {\n\n        const messageModal = document.createElement('div');\n        messageModal.classList.add('message-modal');\n        messageModal.innerHTML = `\n            <div>\n                ${message}          \n            </div>\n        `;\n\n        form.insertAdjacentElement(\"afterend\", messageModal);\n\n        setTimeout(() => {\n            messageModal.remove();\n        }, 2000)\n\n    }\n\n    function checkFormInfo(form) {\n        const input = form.querySelector('[name=\"user_phone\"]');\n\n        input.addEventListener('input', () => {\n            if(input.value.match(/^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){10,14}(\\s*)?$/)) {\n                input.style.borderColor = \"rgb(204,204,204)\";\n            } else {\n                input.style.borderColor = 'red';\n            }\n        });\n    }\n\n\n\n    \n}\n\nexport default forms;","function openModal(modalSelector) {\n    const modal = document.querySelector(modalSelector);\n\n    modal.classList.add('popup_show');\n    modal.classList.remove('popup_hide');\n\n    document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal(modalSelector) {\n    const modal = document.querySelector(modalSelector);\n\n    modal.classList.add('popup_hide');\n    modal.classList.remove('popup_show');\n\n    document.body.style.overflow = 'visible';\n\n    modal.querySelector('.form').reset();\n    modal.querySelector('[name=\"user_phone\"]').style.borderColor = \"rgb(204,204,204)\";\n}\n\nfunction modal(triggerSelector, modalSelector) {\n    const modalTrigger = document.querySelectorAll(triggerSelector),\n          modal = document.querySelector(modalSelector);\n\n    modalTrigger.forEach(elem => {\n        elem.addEventListener('click', (e) => {\n            e.preventDefault();\n            openModal(modalSelector);\n        });\n    });\n\n    document.addEventListener('keydown', (e) => {\n        if (e.code === \"Escape\" && modal.classList.contains('popup_show')) {\n            closeModal(modalSelector);\n        }\n    });\n\n    modal.addEventListener('click', (e) => {\n        if (e.target === modal || e.target.parentElement.classList.contains('popup_close')) {\n            closeModal(modalSelector);\n        }\n    })\n}\n\nexport default modal;","const postData = async (url, data) => {\n    let result = await fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json'\n        },\n        body: data\n    });\n\n    if (!result.ok) {\n        throw new Error(`Couldn't post data to ${url}, status: ${result.status}`)\n    }\n\n    return await result.json();\n}\n\nasync function getData(url) {\n    let result = await fetch(url);\n\n    if (!result.ok) {\n        throw new Error(`Couldn't get data from ${url}, status: ${result.status}`);\n    }\n\n    return await result.json();\n}\n\n\n\nexport {getData, postData};"],"sourceRoot":""}